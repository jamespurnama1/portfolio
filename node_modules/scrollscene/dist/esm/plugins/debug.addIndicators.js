import ScrollMagic from "../scrollmagic-with-ssr";
var NAMESPACE = 'debug.addIndicators';
var console = window.console || {},
    err = Function.prototype.bind.call(console.error || console.log || function () {}, console);

if (!ScrollMagic) {
  err('(' + NAMESPACE + ") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");
}

var FONT_SIZE = '0.85em',
    ZINDEX = '9999',
    EDGE_OFFSET = 15;
var _util = ScrollMagic._util,
    _autoindex = 0;
ScrollMagic.Scene.extend(function () {
  var Scene = this,
      _indicator;

  var log = function log() {
    if (Scene._log) {
      Array.prototype.splice.call(arguments, 1, 0, '(' + NAMESPACE + ')', '->');

      Scene._log.apply(this, arguments);
    }
  };

  Scene.addIndicators = function (options) {
    if (!_indicator) {
      var DEFAULT_OPTIONS = {
        name: '',
        indent: 0,
        parent: undefined,
        colorStart: 'green',
        colorEnd: 'red',
        colorTrigger: 'blue'
      };
      options = _util.extend({}, DEFAULT_OPTIONS, options);
      _autoindex++;
      _indicator = new Indicator(Scene, options);
      Scene.on('add.plugin_addIndicators', _indicator.add);
      Scene.on('remove.plugin_addIndicators', _indicator.remove);
      Scene.on('destroy.plugin_addIndicators', Scene.removeIndicators);

      if (Scene.controller()) {
        _indicator.add();
      }
    }

    return Scene;
  };

  Scene.removeIndicators = function () {
    if (_indicator) {
      _indicator.remove();

      this.off('*.plugin_addIndicators');
      _indicator = undefined;
    }

    return Scene;
  };
});
ScrollMagic.Controller.addOption('addIndicators', false);
ScrollMagic.Controller.extend(function () {
  var Controller = this,
      _info = Controller.info(),
      _container = _info.container,
      _isDocument = _info.isDocument,
      _vertical = _info.vertical,
      _indicators = {
    groups: []
  };

  var log = function log() {
    if (Controller._log) {
      Array.prototype.splice.call(arguments, 1, 0, '(' + NAMESPACE + ')', '->');

      Controller._log.apply(this, arguments);
    }
  };

  if (Controller._indicators) {
    log(2, "WARNING: Scene already has a property '_indicators', which will be overwritten by plugin.");
  }

  this._indicators = _indicators;

  var handleBoundsPositionChange = function handleBoundsPositionChange() {
    _indicators.updateBoundsPositions();
  };

  var handleTriggerPositionChange = function handleTriggerPositionChange() {
    _indicators.updateTriggerGroupPositions();
  };

  _container.addEventListener('resize', handleTriggerPositionChange);

  if (!_isDocument) {
    window.addEventListener('resize', handleTriggerPositionChange);
    window.addEventListener('scroll', handleTriggerPositionChange);
  }

  _container.addEventListener('resize', handleBoundsPositionChange);

  _container.addEventListener('scroll', handleBoundsPositionChange);

  this._indicators.updateBoundsPositions = function (specificIndicator) {
    var groups = specificIndicator ? [_util.extend({}, specificIndicator.triggerGroup, {
      members: [specificIndicator]
    })] : _indicators.groups,
        g = groups.length,
        css = {},
        paramPos = _vertical ? 'left' : 'top',
        paramDimension = _vertical ? 'width' : 'height',
        edge = _vertical ? _util.get.scrollLeft(_container) + _util.get.width(_container) - EDGE_OFFSET : _util.get.scrollTop(_container) + _util.get.height(_container) - EDGE_OFFSET,
        b,
        triggerSize,
        group;

    while (g--) {
      group = groups[g];
      b = group.members.length;
      triggerSize = _util.get[paramDimension](group.element.firstChild);

      while (b--) {
        css[paramPos] = edge - triggerSize;

        _util.css(group.members[b].bounds, css);
      }
    }
  };

  this._indicators.updateTriggerGroupPositions = function (specificGroup) {
    var groups = specificGroup ? [specificGroup] : _indicators.groups,
        i = groups.length,
        container = _isDocument ? document.body : _container,
        containerOffset = _isDocument ? {
      top: 0,
      left: 0
    } : _util.get.offset(container, true),
        edge = _vertical ? _util.get.width(_container) - EDGE_OFFSET : _util.get.height(_container) - EDGE_OFFSET,
        paramDimension = _vertical ? 'width' : 'height',
        paramTransform = _vertical ? 'Y' : 'X';
    var group, elem, pos, elemSize, transform;

    while (i--) {
      group = groups[i];
      elem = group.element;
      pos = group.triggerHook * Controller.info('size');
      elemSize = _util.get[paramDimension](elem.firstChild.firstChild);
      transform = pos > elemSize ? 'translate' + paramTransform + '(-100%)' : '';

      _util.css(elem, {
        top: containerOffset.top + (_vertical ? pos : edge - group.members[0].options.indent),
        left: containerOffset.left + (_vertical ? edge - group.members[0].options.indent : pos)
      });

      _util.css(elem.firstChild.firstChild, {
        '-ms-transform': transform,
        '-webkit-transform': transform,
        transform: transform
      });
    }
  };

  this._indicators.updateTriggerGroupLabel = function (group) {
    var text = 'trigger' + (group.members.length > 1 ? '' : ' ' + group.members[0].options.name),
        elem = group.element.firstChild.firstChild,
        doUpdate = elem.textContent !== text;

    if (doUpdate) {
      elem.textContent = text;

      if (_vertical) {
        _indicators.updateBoundsPositions();
      }
    }
  };

  this.addScene = function (newScene) {
    if (this._options.addIndicators && newScene instanceof ScrollMagic.Scene && newScene.controller() === Controller) {
      newScene.addIndicators();
    }

    this.$super.addScene.apply(this, arguments);
  };

  this.destroy = function () {
    _container.removeEventListener('resize', handleTriggerPositionChange);

    if (!_isDocument) {
      window.removeEventListener('resize', handleTriggerPositionChange);
      window.removeEventListener('scroll', handleTriggerPositionChange);
    }

    _container.removeEventListener('resize', handleBoundsPositionChange);

    _container.removeEventListener('scroll', handleBoundsPositionChange);

    this.$super.destroy.apply(this, arguments);
  };

  return Controller;
});

var Indicator = function Indicator(Scene, options) {
  var Indicator = this,
      _elemBounds = TPL.bounds(),
      _elemStart = TPL.start(options.colorStart),
      _elemEnd = TPL.end(options.colorEnd),
      _boundsContainer = options.parent && _util.get.elements(options.parent)[0],
      _vertical,
      _ctrl;

  var log = function log() {
    if (Scene._log) {
      Array.prototype.splice.call(arguments, 1, 0, '(' + NAMESPACE + ')', '->');

      Scene._log.apply(this, arguments);
    }
  };

  options.name = options.name || _autoindex;
  _elemStart.firstChild.textContent += ' ' + options.name;
  _elemEnd.textContent += ' ' + options.name;

  _elemBounds.appendChild(_elemStart);

  _elemBounds.appendChild(_elemEnd);

  Indicator.options = options;
  Indicator.bounds = _elemBounds;
  Indicator.triggerGroup = undefined;

  this.add = function () {
    _ctrl = Scene.controller();
    _vertical = _ctrl.info('vertical');

    var isDocument = _ctrl.info('isDocument');

    if (!_boundsContainer) {
      _boundsContainer = isDocument ? document.body : _ctrl.info('container');
    }

    if (!isDocument && _util.css(_boundsContainer, 'position') === 'static') {
      _util.css(_boundsContainer, {
        position: 'relative'
      });
    }

    Scene.on('change.plugin_addIndicators', handleTriggerParamsChange);
    Scene.on('shift.plugin_addIndicators', handleBoundsParamsChange);
    updateTriggerGroup();
    updateBounds();
    setTimeout(function () {
      _ctrl._indicators.updateBoundsPositions(Indicator);
    }, 0);
    log(3, 'added indicators');
  };

  this.remove = function () {
    if (Indicator.triggerGroup) {
      Scene.off('change.plugin_addIndicators', handleTriggerParamsChange);
      Scene.off('shift.plugin_addIndicators', handleBoundsParamsChange);

      if (Indicator.triggerGroup.members.length > 1) {
        var group = Indicator.triggerGroup;
        group.members.splice(group.members.indexOf(Indicator), 1);

        _ctrl._indicators.updateTriggerGroupLabel(group);

        _ctrl._indicators.updateTriggerGroupPositions(group);

        Indicator.triggerGroup = undefined;
      } else {
        removeTriggerGroup();
      }

      removeBounds();
      log(3, 'removed indicators');
    }
  };

  var handleBoundsParamsChange = function handleBoundsParamsChange() {
    updateBounds();
  };

  var handleTriggerParamsChange = function handleTriggerParamsChange(e) {
    if (e.what === 'triggerHook') {
      updateTriggerGroup();
    }
  };

  var addBounds = function addBounds() {
    var v = _ctrl.info('vertical');

    _util.css(_elemStart.firstChild, {
      'border-bottom-width': v ? 1 : 0,
      'border-right-width': v ? 0 : 1,
      bottom: v ? -1 : options.indent,
      right: v ? options.indent : -1,
      padding: v ? '0 8px' : '2px 4px'
    });

    _util.css(_elemEnd, {
      'border-top-width': v ? 1 : 0,
      'border-left-width': v ? 0 : 1,
      top: v ? '100%' : '',
      right: v ? options.indent : '',
      bottom: v ? '' : options.indent,
      left: v ? '' : '100%',
      padding: v ? '0 8px' : '2px 4px'
    });

    _boundsContainer.appendChild(_elemBounds);
  };

  var removeBounds = function removeBounds() {
    _elemBounds.parentNode.removeChild(_elemBounds);
  };

  var updateBounds = function updateBounds() {
    if (_elemBounds.parentNode !== _boundsContainer) {
      addBounds();
    }

    var css = {};
    css[_vertical ? 'top' : 'left'] = Scene.triggerPosition();
    css[_vertical ? 'height' : 'width'] = Scene.duration();

    _util.css(_elemBounds, css);

    _util.css(_elemEnd, {
      display: Scene.duration() > 0 ? '' : 'none'
    });
  };

  var addTriggerGroup = function addTriggerGroup() {
    var triggerElem = TPL.trigger(options.colorTrigger);
    var css = {};
    css[_vertical ? 'right' : 'bottom'] = 0;
    css[_vertical ? 'border-top-width' : 'border-left-width'] = 1;

    _util.css(triggerElem.firstChild, css);

    _util.css(triggerElem.firstChild.firstChild, {
      padding: _vertical ? '0 8px 3px 8px' : '3px 4px'
    });

    document.body.appendChild(triggerElem);
    var newGroup = {
      triggerHook: Scene.triggerHook(),
      element: triggerElem,
      members: [Indicator]
    };

    _ctrl._indicators.groups.push(newGroup);

    Indicator.triggerGroup = newGroup;

    _ctrl._indicators.updateTriggerGroupLabel(newGroup);

    _ctrl._indicators.updateTriggerGroupPositions(newGroup);
  };

  var removeTriggerGroup = function removeTriggerGroup() {
    _ctrl._indicators.groups.splice(_ctrl._indicators.groups.indexOf(Indicator.triggerGroup), 1);

    Indicator.triggerGroup.element.parentNode.removeChild(Indicator.triggerGroup.element);
    Indicator.triggerGroup = undefined;
  };

  var updateTriggerGroup = function updateTriggerGroup() {
    var triggerHook = Scene.triggerHook(),
        closeEnough = 0.0001;

    if (Indicator.triggerGroup) {
      if (Math.abs(Indicator.triggerGroup.triggerHook - triggerHook) < closeEnough) {
        return;
      }
    }

    var groups = _ctrl._indicators.groups,
        group,
        i = groups.length;

    while (i--) {
      group = groups[i];

      if (Math.abs(group.triggerHook - triggerHook) < closeEnough) {
        if (Indicator.triggerGroup) {
          if (Indicator.triggerGroup.members.length === 1) {
            removeTriggerGroup();
          } else {
            Indicator.triggerGroup.members.splice(Indicator.triggerGroup.members.indexOf(Indicator), 1);

            _ctrl._indicators.updateTriggerGroupLabel(Indicator.triggerGroup);

            _ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);
          }
        }

        group.members.push(Indicator);
        Indicator.triggerGroup = group;

        _ctrl._indicators.updateTriggerGroupLabel(group);

        return;
      }
    }

    if (Indicator.triggerGroup) {
      if (Indicator.triggerGroup.members.length === 1) {
        Indicator.triggerGroup.triggerHook = triggerHook;

        _ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);

        return;
      } else {
        Indicator.triggerGroup.members.splice(Indicator.triggerGroup.members.indexOf(Indicator), 1);

        _ctrl._indicators.updateTriggerGroupLabel(Indicator.triggerGroup);

        _ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);

        Indicator.triggerGroup = undefined;
      }
    }

    addTriggerGroup();
  };
};

var TPL = {
  start: function start(color) {
    var inner = document.createElement('div');
    inner.textContent = 'start';

    _util.css(inner, {
      position: 'absolute',
      overflow: 'visible',
      'border-width': 0,
      'border-style': 'solid',
      color: color,
      'border-color': color
    });

    var e = document.createElement('div');

    _util.css(e, {
      position: 'absolute',
      overflow: 'visible',
      width: 0,
      height: 0
    });

    e.appendChild(inner);
    return e;
  },
  end: function end(color) {
    var e = document.createElement('div');
    e.textContent = 'end';

    _util.css(e, {
      position: 'absolute',
      overflow: 'visible',
      'border-width': 0,
      'border-style': 'solid',
      color: color,
      'border-color': color
    });

    return e;
  },
  bounds: function bounds() {
    var e = document.createElement('div');

    _util.css(e, {
      position: 'absolute',
      overflow: 'visible',
      'white-space': 'nowrap',
      'pointer-events': 'none',
      'font-size': FONT_SIZE
    });

    e.style.zIndex = ZINDEX;
    return e;
  },
  trigger: function trigger(color) {
    var inner = document.createElement('div');
    inner.textContent = 'trigger';

    _util.css(inner, {
      position: 'relative'
    });

    var w = document.createElement('div');

    _util.css(w, {
      position: 'absolute',
      overflow: 'visible',
      'border-width': 0,
      'border-style': 'solid',
      color: color,
      'border-color': color
    });

    w.appendChild(inner);
    var e = document.createElement('div');

    _util.css(e, {
      position: 'fixed',
      overflow: 'visible',
      'white-space': 'nowrap',
      'pointer-events': 'none',
      'font-size': FONT_SIZE
    });

    e.style.zIndex = ZINDEX;
    e.appendChild(w);
    return e;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wbHVnaW5zL2RlYnVnLmFkZEluZGljYXRvcnMuanMiXSwibmFtZXMiOlsiU2Nyb2xsTWFnaWMiLCJOQU1FU1BBQ0UiLCJjb25zb2xlIiwid2luZG93IiwiZXJyIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwiY2FsbCIsImVycm9yIiwibG9nIiwiRk9OVF9TSVpFIiwiWklOREVYIiwiRURHRV9PRkZTRVQiLCJfdXRpbCIsIl9hdXRvaW5kZXgiLCJTY2VuZSIsImV4dGVuZCIsIl9pbmRpY2F0b3IiLCJfbG9nIiwiQXJyYXkiLCJzcGxpY2UiLCJhcmd1bWVudHMiLCJhcHBseSIsImFkZEluZGljYXRvcnMiLCJvcHRpb25zIiwiREVGQVVMVF9PUFRJT05TIiwibmFtZSIsImluZGVudCIsInBhcmVudCIsInVuZGVmaW5lZCIsImNvbG9yU3RhcnQiLCJjb2xvckVuZCIsImNvbG9yVHJpZ2dlciIsIkluZGljYXRvciIsIm9uIiwiYWRkIiwicmVtb3ZlIiwicmVtb3ZlSW5kaWNhdG9ycyIsImNvbnRyb2xsZXIiLCJvZmYiLCJDb250cm9sbGVyIiwiYWRkT3B0aW9uIiwiX2luZm8iLCJpbmZvIiwiX2NvbnRhaW5lciIsImNvbnRhaW5lciIsIl9pc0RvY3VtZW50IiwiaXNEb2N1bWVudCIsIl92ZXJ0aWNhbCIsInZlcnRpY2FsIiwiX2luZGljYXRvcnMiLCJncm91cHMiLCJoYW5kbGVCb3VuZHNQb3NpdGlvbkNoYW5nZSIsInVwZGF0ZUJvdW5kc1Bvc2l0aW9ucyIsImhhbmRsZVRyaWdnZXJQb3NpdGlvbkNoYW5nZSIsInVwZGF0ZVRyaWdnZXJHcm91cFBvc2l0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcGVjaWZpY0luZGljYXRvciIsInRyaWdnZXJHcm91cCIsIm1lbWJlcnMiLCJnIiwibGVuZ3RoIiwiY3NzIiwicGFyYW1Qb3MiLCJwYXJhbURpbWVuc2lvbiIsImVkZ2UiLCJnZXQiLCJzY3JvbGxMZWZ0Iiwid2lkdGgiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJiIiwidHJpZ2dlclNpemUiLCJncm91cCIsImVsZW1lbnQiLCJmaXJzdENoaWxkIiwiYm91bmRzIiwic3BlY2lmaWNHcm91cCIsImkiLCJkb2N1bWVudCIsImJvZHkiLCJjb250YWluZXJPZmZzZXQiLCJ0b3AiLCJsZWZ0Iiwib2Zmc2V0IiwicGFyYW1UcmFuc2Zvcm0iLCJlbGVtIiwicG9zIiwiZWxlbVNpemUiLCJ0cmFuc2Zvcm0iLCJ0cmlnZ2VySG9vayIsInVwZGF0ZVRyaWdnZXJHcm91cExhYmVsIiwidGV4dCIsImRvVXBkYXRlIiwidGV4dENvbnRlbnQiLCJhZGRTY2VuZSIsIm5ld1NjZW5lIiwiX29wdGlvbnMiLCIkc3VwZXIiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9lbGVtQm91bmRzIiwiVFBMIiwiX2VsZW1TdGFydCIsInN0YXJ0IiwiX2VsZW1FbmQiLCJlbmQiLCJfYm91bmRzQ29udGFpbmVyIiwiZWxlbWVudHMiLCJfY3RybCIsImFwcGVuZENoaWxkIiwicG9zaXRpb24iLCJoYW5kbGVUcmlnZ2VyUGFyYW1zQ2hhbmdlIiwiaGFuZGxlQm91bmRzUGFyYW1zQ2hhbmdlIiwidXBkYXRlVHJpZ2dlckdyb3VwIiwidXBkYXRlQm91bmRzIiwic2V0VGltZW91dCIsImluZGV4T2YiLCJyZW1vdmVUcmlnZ2VyR3JvdXAiLCJyZW1vdmVCb3VuZHMiLCJlIiwid2hhdCIsImFkZEJvdW5kcyIsInYiLCJib3R0b20iLCJyaWdodCIsInBhZGRpbmciLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJ0cmlnZ2VyUG9zaXRpb24iLCJkdXJhdGlvbiIsImRpc3BsYXkiLCJhZGRUcmlnZ2VyR3JvdXAiLCJ0cmlnZ2VyRWxlbSIsInRyaWdnZXIiLCJuZXdHcm91cCIsInB1c2giLCJjbG9zZUVub3VnaCIsIk1hdGgiLCJhYnMiLCJjb2xvciIsImlubmVyIiwiY3JlYXRlRWxlbWVudCIsIm92ZXJmbG93Iiwic3R5bGUiLCJ6SW5kZXgiLCJ3Il0sIm1h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QyxDQUFDcEMsV0FBRixDQUFjK0IsS0FBZDtBQUVBLFFBQUlyQixDQUFDLEdBQUd6QyxRQUFRLENBQUMrRCxhQUFULENBQXVCLEtBQXZCLENBQVI7O0FBQ0FqSSxJQUFBQSxLQUFLLENBQUNpRCxHQUFOLENBQVUwRCxDQUFWLEVBQWE7QUFDWFQsTUFBQUEsUUFBUSxFQUFFLE9BREM7QUFFWGdDLE1BQUFBLFFBQVEsRUFBRSxTQUZDO0FBR1gscUJBQWUsUUFISjtBQUlYLHdCQUFrQixNQUpQO0FBS1gsbUJBQWFySTtBQUxGLEtBQWI7O0FBT0E4RyxJQUFBQSxDQUFDLENBQUN3QixLQUFGLENBQVFDLE1BQVIsR0FBaUJ0SSxNQUFqQjtBQUNBNkcsSUFBQUEsQ0FBQyxDQUFDVixXQUFGLENBQWNvQyxDQUFkO0FBQ0EsV0FBTzFCLENBQVA7QUFDRDtBQS9FTyxDQUFWIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cclxuLyogcHJldHRpZXItaWdub3JlICovXHJcblxyXG4vKlxyXG5TbGlnaHRseSBtb2RpZmllZCB2ZXJzaW9uIG9mIHRoaXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5wYWVwa2UvU2Nyb2xsTWFnaWMvYmxvYi9tYXN0ZXIvZGV2L3NyYy9wbHVnaW5zL2RlYnVnLmFkZEluZGljYXRvcnMuanNcclxuKi9cclxuXHJcbmltcG9ydCBTY3JvbGxNYWdpYyBmcm9tICcuLi9zY3JvbGxtYWdpYy13aXRoLXNzcidcclxuXHJcbnZhciBOQU1FU1BBQ0UgPSAnZGVidWcuYWRkSW5kaWNhdG9ycydcclxuXHJcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGUgfHwge30sXHJcbiAgZXJyID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yIHx8IGNvbnNvbGUubG9nIHx8IGZ1bmN0aW9uKCkge30sIGNvbnNvbGUpXHJcbmlmICghU2Nyb2xsTWFnaWMpIHtcclxuICBlcnIoXHJcbiAgICAnKCcgK1xyXG4gICAgICBOQU1FU1BBQ0UgK1xyXG4gICAgICBcIikgLT4gRVJST1I6IFRoZSBTY3JvbGxNYWdpYyBtYWluIG1vZHVsZSBjb3VsZCBub3QgYmUgZm91bmQuIFBsZWFzZSBtYWtlIHN1cmUgaXQncyBsb2FkZWQgYmVmb3JlIHRoaXMgcGx1Z2luIG9yIHVzZSBhbiBhc3luY2hyb25vdXMgbG9hZGVyIGxpa2UgcmVxdWlyZWpzLlwiLFxyXG4gIClcclxufVxyXG5cclxuLy8gcGx1Z2luIHNldHRpbmdzXHJcbnZhciBGT05UX1NJWkUgPSAnMC44NWVtJyxcclxuICBaSU5ERVggPSAnOTk5OScsXHJcbiAgRURHRV9PRkZTRVQgPSAxNSAvLyBtaW5pbXVtIGVkZ2UgZGlzdGFuY2UsIGFkZGVkIHRvIGluZGVudGF0aW9uXHJcblxyXG4vLyBvdmVyYWxsIHZhcnNcclxudmFyIF91dGlsID0gU2Nyb2xsTWFnaWMuX3V0aWwsXHJcbiAgX2F1dG9pbmRleCA9IDBcclxuXHJcblNjcm9sbE1hZ2ljLlNjZW5lLmV4dGVuZChmdW5jdGlvbigpIHtcclxuICB2YXIgU2NlbmUgPSB0aGlzLFxyXG4gICAgX2luZGljYXRvclxyXG5cclxuICB2YXIgbG9nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoU2NlbmUuX2xvZykge1xyXG4gICAgICAvLyBub3QgYXZhaWxhYmxlLCB3aGVuIG1haW4gc291cmNlIG1pbmlmaWVkXHJcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDEsIDAsICcoJyArIE5BTUVTUEFDRSArICcpJywgJy0+JylcclxuICAgICAgU2NlbmUuX2xvZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuXHRcdCAqIEFkZCB2aXN1YWwgaW5kaWNhdG9ycyBmb3IgYSBTY3JvbGxNYWdpYy5TY2VuZS4gIFxyXG5cdFx0ICogQG1lbWJlcm9mISBkZWJ1Zy5hZGRJbmRpY2F0b3JzI1xyXG5cdFx0ICpcclxuXHRcdCAqIEBleGFtcGxlXHJcblx0XHQgKiAvLyBhZGQgYmFzaWMgaW5kaWNhdG9yc1xyXG5cdFx0ICogc2NlbmUuYWRkSW5kaWNhdG9ycygpXHJcblx0XHQgKlxyXG5cdFx0ICogLy8gcGFzc2luZyBvcHRpb25zXHJcblx0XHQgKiBzY2VuZS5hZGRJbmRpY2F0b3JzKHtuYW1lOiBcInBpbiBzY2VuZVwiLCBjb2xvckVuZDogXCIjRkZGRkZGXCJ9KTtcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgb3B0aW9ucyBmb3IgdGhlIGluZGljYXRvcnMuXHJcblx0XHQgKiBAcGFyYW0geyhzdHJpbmd8b2JqZWN0KX0gW29wdGlvbnMucGFyZW50XSAtIEEgc2VsZWN0b3IsIERPTSBPYmplY3Qgb3IgYSBqUXVlcnkgb2JqZWN0IHRoYXQgdGhlIGluZGljYXRvcnMgc2hvdWxkIGJlIGFkZGVkIHRvLiAgXHJcblx0XHQgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IElmIHVuZGVmaW5lZCwgdGhlIGNvbnRyb2xsZXIncyBjb250YWluZXIgd2lsbCBiZSB1c2VkLlxyXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm5hbWU9XCJcIl0gLSBUaGlzIHN0cmluZyB3aWxsIGJlIGRpc3BsYXllZCBhdCB0aGUgc3RhcnQgYW5kIGVuZCBpbmRpY2F0b3JzIG9mIHRoZSBzY2VuZSBmb3IgaWRlbnRpZmljYXRpb24gcHVycG9zZXMuIElmIG5vIG5hbWUgaXMgc3VwcGxpZWQgYW4gYXV0b21hdGljIGluZGV4IHdpbGwgYmUgdXNlZC5cclxuXHRcdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbmRlbnQ9MF0gLSBBZGRpdGlvbmFsIHBvc2l0aW9uIG9mZnNldCBmb3IgdGhlIGluZGljYXRvcnMgKHVzZWZ1bCwgd2hlbiBoYXZpbmcgbXVsdGlwbGUgc2NlbmVzIHN0YXJ0aW5nIGF0IHRoZSBzYW1lIHBvc2l0aW9uKS5cclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jb2xvclN0YXJ0PWdyZWVuXSAtIENTUyBjb2xvciBkZWZpbml0aW9uIGZvciB0aGUgc3RhcnQgaW5kaWNhdG9yLlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNvbG9yRW5kPXJlZF0gLSBDU1MgY29sb3IgZGVmaW5pdGlvbiBmb3IgdGhlIGVuZCBpbmRpY2F0b3IuXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY29sb3JUcmlnZ2VyPWJsdWVdIC0gQ1NTIGNvbG9yIGRlZmluaXRpb24gZm9yIHRoZSB0cmlnZ2VyIGluZGljYXRvci5cclxuXHRcdCAqL1xyXG4gIFNjZW5lLmFkZEluZGljYXRvcnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICBpZiAoIV9pbmRpY2F0b3IpIHtcclxuICAgICAgdmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcclxuICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICBpbmRlbnQ6IDAsXHJcbiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsXHJcbiAgICAgICAgY29sb3JTdGFydDogJ2dyZWVuJyxcclxuICAgICAgICBjb2xvckVuZDogJ3JlZCcsXHJcbiAgICAgICAgY29sb3JUcmlnZ2VyOiAnYmx1ZScsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9wdGlvbnMgPSBfdXRpbC5leHRlbmQoe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucylcclxuXHJcbiAgICAgIF9hdXRvaW5kZXgrK1xyXG4gICAgICBfaW5kaWNhdG9yID0gbmV3IEluZGljYXRvcihTY2VuZSwgb3B0aW9ucylcclxuXHJcbiAgICAgIFNjZW5lLm9uKCdhZGQucGx1Z2luX2FkZEluZGljYXRvcnMnLCBfaW5kaWNhdG9yLmFkZClcclxuICAgICAgU2NlbmUub24oJ3JlbW92ZS5wbHVnaW5fYWRkSW5kaWNhdG9ycycsIF9pbmRpY2F0b3IucmVtb3ZlKVxyXG4gICAgICBTY2VuZS5vbignZGVzdHJveS5wbHVnaW5fYWRkSW5kaWNhdG9ycycsIFNjZW5lLnJlbW92ZUluZGljYXRvcnMpXHJcblxyXG4gICAgICAvLyBpdCB0aGUgc2NlbmUgYWxyZWFkeSBoYXMgYSBjb250cm9sbGVyIHdlIGNhbiBzdGFydCByaWdodCBhd2F5LlxyXG4gICAgICBpZiAoU2NlbmUuY29udHJvbGxlcigpKSB7XHJcbiAgICAgICAgX2luZGljYXRvci5hZGQoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU2NlbmVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgdmlzdWFsIGluZGljYXRvcnMgZnJvbSBhIFNjcm9sbE1hZ2ljLlNjZW5lLlxyXG4gICAqIEBtZW1iZXJvZiEgZGVidWcuYWRkSW5kaWNhdG9ycyNcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogLy8gcmVtb3ZlIHByZXZpb3VzbHkgYWRkZWQgaW5kaWNhdG9yc1xyXG4gICAqIHNjZW5lLnJlbW92ZUluZGljYXRvcnMoKVxyXG4gICAqXHJcbiAgICovXHJcbiAgU2NlbmUucmVtb3ZlSW5kaWNhdG9ycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKF9pbmRpY2F0b3IpIHtcclxuICAgICAgX2luZGljYXRvci5yZW1vdmUoKVxyXG4gICAgICB0aGlzLm9mZignKi5wbHVnaW5fYWRkSW5kaWNhdG9ycycpXHJcbiAgICAgIF9pbmRpY2F0b3IgPSB1bmRlZmluZWRcclxuICAgIH1cclxuICAgIHJldHVybiBTY2VuZVxyXG4gIH1cclxufSlcclxuXHJcbi8qXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogRXh0ZW5zaW9uIGZvciBjb250cm9sbGVyIHRvIHN0b3JlIGFuZCB1cGRhdGUgcmVsYXRlZCBpbmRpY2F0b3JzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcbi8vIGFkZCBvcHRpb24gdG8gZ2xvYmFsbHkgYXV0by1hZGQgaW5kaWNhdG9ycyB0byBzY2VuZXNcclxuLyoqXHJcbiAqIEV2ZXJ5IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIgaW5zdGFuY2Ugbm93IGFjY2VwdHMgYW4gYWRkaXRpb25hbCBvcHRpb24uXHJcbiAqIFNlZSB7QGxpbmsgU2Nyb2xsTWFnaWMuQ29udHJvbGxlcn0gZm9yIGEgY29tcGxldGUgbGlzdCBvZiB0aGUgc3RhbmRhcmQgb3B0aW9ucy5cclxuICogQG1lbWJlcm9mISBkZWJ1Zy5hZGRJbmRpY2F0b3JzI1xyXG4gKiBAbWV0aG9kIG5ldyBTY3JvbGxNYWdpYy5Db250cm9sbGVyKG9wdGlvbnMpXHJcbiAqIEBleGFtcGxlXHJcbiAqIC8vIG1ha2UgYSBjb250cm9sbGVyIGFuZCBhZGQgaW5kaWNhdG9ycyB0byBhbGwgc2NlbmVzIGF0dGFjaGVkXHJcbiAqIHZhciBjb250cm9sbGVyID0gbmV3IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIoe2FkZEluZGljYXRvcnM6IHRydWV9KTtcclxuICogLy8gdGhpcyBzY2VuZSB3aWxsIGF1dG9tYXRpY2FsbHkgaGF2ZSBpbmRpY2F0b3JzIGFkZGVkIHRvIGl0XHJcbiAqIG5ldyBTY3JvbGxNYWdpYy5TY2VuZSgpXHJcbiAqICAgICAgICAgICAgICAgIC5hZGRUbyhjb250cm9sbGVyKTtcclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIHRoZSBDb250cm9sbGVyLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFkZEluZGljYXRvcnM9ZmFsc2VdIC0gSWYgc2V0IHRvIGB0cnVlYCBldmVyeSBzY2VuZSB0aGF0IGlzIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIHdpbGwgYXV0b21hdGljYWxseSBnZXQgaW5kaWNhdG9ycyBhZGRlZCB0byBpdC5cclxuICovXHJcblNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIuYWRkT3B0aW9uKCdhZGRJbmRpY2F0b3JzJywgZmFsc2UpXHJcbi8vIGV4dGVuZCBDb250cm9sbGVyXHJcblNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIuZXh0ZW5kKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBDb250cm9sbGVyID0gdGhpcyxcclxuICAgIF9pbmZvID0gQ29udHJvbGxlci5pbmZvKCksXHJcbiAgICBfY29udGFpbmVyID0gX2luZm8uY29udGFpbmVyLFxyXG4gICAgX2lzRG9jdW1lbnQgPSBfaW5mby5pc0RvY3VtZW50LFxyXG4gICAgX3ZlcnRpY2FsID0gX2luZm8udmVydGljYWwsXHJcbiAgICBfaW5kaWNhdG9ycyA9IHtcclxuICAgICAgLy8gY29udGFpbmVyIGZvciBhbGwgaW5kaWNhdG9ycyBhbmQgbWV0aG9kc1xyXG4gICAgICBncm91cHM6IFtdLFxyXG4gICAgfVxyXG5cclxuICB2YXIgbG9nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoQ29udHJvbGxlci5fbG9nKSB7XHJcbiAgICAgIC8vIG5vdCBhdmFpbGFibGUsIHdoZW4gbWFpbiBzb3VyY2UgbWluaWZpZWRcclxuICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMSwgMCwgJygnICsgTkFNRVNQQUNFICsgJyknLCAnLT4nKVxyXG4gICAgICBDb250cm9sbGVyLl9sb2cuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoQ29udHJvbGxlci5faW5kaWNhdG9ycykge1xyXG4gICAgbG9nKDIsIFwiV0FSTklORzogU2NlbmUgYWxyZWFkeSBoYXMgYSBwcm9wZXJ0eSAnX2luZGljYXRvcnMnLCB3aGljaCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHBsdWdpbi5cIilcclxuICB9XHJcblxyXG4gIC8vIGFkZCBpbmRpY2F0b3JzIGNvbnRhaW5lclxyXG4gIHRoaXMuX2luZGljYXRvcnMgPSBfaW5kaWNhdG9yc1xyXG4gIC8qXHJcblx0XHRcdG5lZWRlZCB1cGRhdGVzOlxyXG5cdFx0XHQrKysrKysrKysrKysrKytcclxuXHRcdFx0c3RhcnQvZW5kIHBvc2l0aW9uIG9uIHNjZW5lIHNoaWZ0IChoYW5kbGVkIGluIEluZGljYXRvciBjbGFzcylcclxuXHRcdFx0dHJpZ2dlciBwYXJhbWV0ZXJzIG9uIHRyaWdnZXJIb29rIHZhbHVlIGNoYW5nZSAoaGFuZGxlZCBpbiBJbmRpY2F0b3IgY2xhc3MpXHJcblx0XHRcdGJvdW5kcyBwb3NpdGlvbiBvbiBjb250YWluZXIgc2Nyb2xsIG9yIHJlc2l6ZSAodG8ga2VlcCBhbGlnbm1lbnQgdG8gYm90dG9tL3JpZ2h0KVxyXG5cdFx0XHR0cmlnZ2VyIHBvc2l0aW9uIG9uIGNvbnRhaW5lciByZXNpemUsIHdpbmRvdyByZXNpemUgKGlmIGNvbnRhaW5lciBpc24ndCBkb2N1bWVudCkgYW5kIHdpbmRvdyBzY3JvbGwgKGlmIGNvbnRhaW5lciBpc24ndCBkb2N1bWVudClcclxuXHRcdCovXHJcblxyXG4gIC8vIGV2ZW50IGhhbmRsZXIgZm9yIHdoZW4gYXNzb2NpYXRlZCBib3VuZHMgbWFya2VycyBuZWVkIHRvIGJlIHJlcG9zaXRpb25lZFxyXG4gIHZhciBoYW5kbGVCb3VuZHNQb3NpdGlvbkNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX2luZGljYXRvcnMudXBkYXRlQm91bmRzUG9zaXRpb25zKClcclxuICB9XHJcblxyXG4gIC8vIGV2ZW50IGhhbmRsZXIgZm9yIHdoZW4gYXNzb2NpYXRlZCB0cmlnZ2VyIGdyb3VwcyBuZWVkIHRvIGJlIHJlcG9zaXRpb25lZFxyXG4gIHZhciBoYW5kbGVUcmlnZ2VyUG9zaXRpb25DaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgIF9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cFBvc2l0aW9ucygpXHJcbiAgfVxyXG5cclxuICBfY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVRyaWdnZXJQb3NpdGlvbkNoYW5nZSlcclxuICBpZiAoIV9pc0RvY3VtZW50KSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlVHJpZ2dlclBvc2l0aW9uQ2hhbmdlKVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVRyaWdnZXJQb3NpdGlvbkNoYW5nZSlcclxuICB9XHJcbiAgLy8gdXBkYXRlIGFsbCByZWxhdGVkIGJvdW5kcyBjb250YWluZXJzXHJcbiAgX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVCb3VuZHNQb3NpdGlvbkNoYW5nZSlcclxuICBfY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZUJvdW5kc1Bvc2l0aW9uQ2hhbmdlKVxyXG5cclxuICAvLyB1cGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgYm91bmRzIGNvbnRhaW5lciB0byBhbGlnbmVkIHRvIHRoZSByaWdodCBmb3IgdmVydGljYWwgY29udGFpbmVycyBhbmQgdG8gdGhlIGJvdHRvbSBmb3IgaG9yaXpvbnRhbFxyXG4gIHRoaXMuX2luZGljYXRvcnMudXBkYXRlQm91bmRzUG9zaXRpb25zID0gZnVuY3Rpb24oc3BlY2lmaWNJbmRpY2F0b3IpIHtcclxuICAgIHZhciAvLyBjb25zdGFudCBmb3IgYWxsIGJvdW5kc1xyXG4gICAgICBncm91cHMgPSBzcGVjaWZpY0luZGljYXRvclxyXG4gICAgICAgID8gW1xyXG4gICAgICAgICAgICBfdXRpbC5leHRlbmQoe30sIHNwZWNpZmljSW5kaWNhdG9yLnRyaWdnZXJHcm91cCwge1xyXG4gICAgICAgICAgICAgIG1lbWJlcnM6IFtzcGVjaWZpY0luZGljYXRvcl0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgXSAvLyBjcmVhdGUgYSBncm91cCB3aXRoIG9ubHkgb25lIGVsZW1lbnRcclxuICAgICAgICA6IF9pbmRpY2F0b3JzLmdyb3VwcywgLy8gdXNlIGFsbFxyXG4gICAgICBnID0gZ3JvdXBzLmxlbmd0aCxcclxuICAgICAgY3NzID0ge30sXHJcbiAgICAgIHBhcmFtUG9zID0gX3ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCcsXHJcbiAgICAgIHBhcmFtRGltZW5zaW9uID0gX3ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnLFxyXG4gICAgICBlZGdlID0gX3ZlcnRpY2FsXHJcbiAgICAgICAgPyBfdXRpbC5nZXQuc2Nyb2xsTGVmdChfY29udGFpbmVyKSArIF91dGlsLmdldC53aWR0aChfY29udGFpbmVyKSAtIEVER0VfT0ZGU0VUXHJcbiAgICAgICAgOiBfdXRpbC5nZXQuc2Nyb2xsVG9wKF9jb250YWluZXIpICsgX3V0aWwuZ2V0LmhlaWdodChfY29udGFpbmVyKSAtIEVER0VfT0ZGU0VULFxyXG4gICAgICBiLFxyXG4gICAgICB0cmlnZ2VyU2l6ZSxcclxuICAgICAgZ3JvdXBcclxuICAgIHdoaWxlIChnLS0pIHtcclxuICAgICAgLy8gZ3JvdXAgbG9vcFxyXG4gICAgICBncm91cCA9IGdyb3Vwc1tnXVxyXG4gICAgICBiID0gZ3JvdXAubWVtYmVycy5sZW5ndGhcclxuICAgICAgdHJpZ2dlclNpemUgPSBfdXRpbC5nZXRbcGFyYW1EaW1lbnNpb25dKGdyb3VwLmVsZW1lbnQuZmlyc3RDaGlsZClcclxuICAgICAgd2hpbGUgKGItLSkge1xyXG4gICAgICAgIC8vIGluZGljYXRvcnMgbG9vcFxyXG4gICAgICAgIGNzc1twYXJhbVBvc10gPSBlZGdlIC0gdHJpZ2dlclNpemVcclxuICAgICAgICBfdXRpbC5jc3MoZ3JvdXAubWVtYmVyc1tiXS5ib3VuZHMsIGNzcylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gdXBkYXRlcyB0aGUgcG9zaXRpb25zIG9mIGFsbCB0cmlnZ2VyIGdyb3VwcyBhdHRhY2hlZCB0byBhIGNvbnRyb2xsZXIgb3IgYSBzcGVjaWZpYyBvbmUsIGlmIHByb3ZpZGVkXHJcbiAgdGhpcy5faW5kaWNhdG9ycy51cGRhdGVUcmlnZ2VyR3JvdXBQb3NpdGlvbnMgPSBmdW5jdGlvbihzcGVjaWZpY0dyb3VwKSB7XHJcbiAgICB2YXIgLy8gY29uc3RhbnQgdmFyc1xyXG4gICAgICBncm91cHMgPSBzcGVjaWZpY0dyb3VwID8gW3NwZWNpZmljR3JvdXBdIDogX2luZGljYXRvcnMuZ3JvdXBzLFxyXG4gICAgICBpID0gZ3JvdXBzLmxlbmd0aCxcclxuICAgICAgY29udGFpbmVyID0gX2lzRG9jdW1lbnQgPyBkb2N1bWVudC5ib2R5IDogX2NvbnRhaW5lcixcclxuICAgICAgY29udGFpbmVyT2Zmc2V0ID0gX2lzRG9jdW1lbnRcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDogX3V0aWwuZ2V0Lm9mZnNldChjb250YWluZXIsIHRydWUpLFxyXG4gICAgICBlZGdlID0gX3ZlcnRpY2FsID8gX3V0aWwuZ2V0LndpZHRoKF9jb250YWluZXIpIC0gRURHRV9PRkZTRVQgOiBfdXRpbC5nZXQuaGVpZ2h0KF9jb250YWluZXIpIC0gRURHRV9PRkZTRVQsXHJcbiAgICAgIHBhcmFtRGltZW5zaW9uID0gX3ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnLFxyXG4gICAgICBwYXJhbVRyYW5zZm9ybSA9IF92ZXJ0aWNhbCA/ICdZJyA6ICdYJ1xyXG4gICAgdmFyIC8vIGNoYW5naW5nIHZhcnNcclxuICAgICAgZ3JvdXAsXHJcbiAgICAgIGVsZW0sXHJcbiAgICAgIHBvcyxcclxuICAgICAgZWxlbVNpemUsXHJcbiAgICAgIHRyYW5zZm9ybVxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICBncm91cCA9IGdyb3Vwc1tpXVxyXG4gICAgICBlbGVtID0gZ3JvdXAuZWxlbWVudFxyXG4gICAgICBwb3MgPSBncm91cC50cmlnZ2VySG9vayAqIENvbnRyb2xsZXIuaW5mbygnc2l6ZScpXHJcbiAgICAgIGVsZW1TaXplID0gX3V0aWwuZ2V0W3BhcmFtRGltZW5zaW9uXShlbGVtLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZClcclxuICAgICAgdHJhbnNmb3JtID0gcG9zID4gZWxlbVNpemUgPyAndHJhbnNsYXRlJyArIHBhcmFtVHJhbnNmb3JtICsgJygtMTAwJSknIDogJydcclxuXHJcbiAgICAgIF91dGlsLmNzcyhlbGVtLCB7XHJcbiAgICAgICAgdG9wOiBjb250YWluZXJPZmZzZXQudG9wICsgKF92ZXJ0aWNhbCA/IHBvcyA6IGVkZ2UgLSBncm91cC5tZW1iZXJzWzBdLm9wdGlvbnMuaW5kZW50KSxcclxuICAgICAgICBsZWZ0OiBjb250YWluZXJPZmZzZXQubGVmdCArIChfdmVydGljYWwgPyBlZGdlIC0gZ3JvdXAubWVtYmVyc1swXS5vcHRpb25zLmluZGVudCA6IHBvcyksXHJcbiAgICAgIH0pXHJcbiAgICAgIF91dGlsLmNzcyhlbGVtLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCwge1xyXG4gICAgICAgICctbXMtdHJhbnNmb3JtJzogdHJhbnNmb3JtLFxyXG4gICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6IHRyYW5zZm9ybSxcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHVwZGF0ZXMgdGhlIGxhYmVsIGZvciB0aGUgZ3JvdXAgdG8gY29udGFpbiB0aGUgbmFtZSwgaWYgaXQgb25seSBoYXMgb25lIG1lbWJlclxyXG4gIHRoaXMuX2luZGljYXRvcnMudXBkYXRlVHJpZ2dlckdyb3VwTGFiZWwgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgdmFyIHRleHQgPSAndHJpZ2dlcicgKyAoZ3JvdXAubWVtYmVycy5sZW5ndGggPiAxID8gJycgOiAnICcgKyBncm91cC5tZW1iZXJzWzBdLm9wdGlvbnMubmFtZSksXHJcbiAgICAgIGVsZW0gPSBncm91cC5lbGVtZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCxcclxuICAgICAgZG9VcGRhdGUgPSBlbGVtLnRleHRDb250ZW50ICE9PSB0ZXh0XHJcbiAgICBpZiAoZG9VcGRhdGUpIHtcclxuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IHRleHRcclxuICAgICAgaWYgKF92ZXJ0aWNhbCkge1xyXG4gICAgICAgIC8vIGJvdW5kcyBwb3NpdGlvbiBpcyBkZXBlbmRlbnQgb24gdGV4dCBsZW5ndGgsIHNvIHVwZGF0ZVxyXG4gICAgICAgIF9pbmRpY2F0b3JzLnVwZGF0ZUJvdW5kc1Bvc2l0aW9ucygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGFkZCBpbmRpY2F0b3JzIGlmIGdsb2JhbCBvcHRpb24gaXMgc2V0XHJcbiAgdGhpcy5hZGRTY2VuZSA9IGZ1bmN0aW9uKG5ld1NjZW5lKSB7XHJcbiAgICBpZiAodGhpcy5fb3B0aW9ucy5hZGRJbmRpY2F0b3JzICYmIG5ld1NjZW5lIGluc3RhbmNlb2YgU2Nyb2xsTWFnaWMuU2NlbmUgJiYgbmV3U2NlbmUuY29udHJvbGxlcigpID09PSBDb250cm9sbGVyKSB7XHJcbiAgICAgIG5ld1NjZW5lLmFkZEluZGljYXRvcnMoKVxyXG4gICAgfVxyXG4gICAgLy8gY2FsbCBvcmlnaW5hbCBkZXN0cm95IG1ldGhvZFxyXG4gICAgdGhpcy4kc3VwZXIuYWRkU2NlbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIGFsbCBwcmV2aW91c2x5IHNldCBsaXN0ZW5lcnMgb24gZGVzdHJveVxyXG4gIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX2NvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVUcmlnZ2VyUG9zaXRpb25DaGFuZ2UpXHJcbiAgICBpZiAoIV9pc0RvY3VtZW50KSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVUcmlnZ2VyUG9zaXRpb25DaGFuZ2UpXHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVUcmlnZ2VyUG9zaXRpb25DaGFuZ2UpXHJcbiAgICB9XHJcbiAgICBfY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZUJvdW5kc1Bvc2l0aW9uQ2hhbmdlKVxyXG4gICAgX2NvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVCb3VuZHNQb3NpdGlvbkNoYW5nZSlcclxuICAgIC8vIGNhbGwgb3JpZ2luYWwgZGVzdHJveSBtZXRob2RcclxuICAgIHRoaXMuJHN1cGVyLmRlc3Ryb3kuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG4gIH1cclxuICByZXR1cm4gQ29udHJvbGxlclxyXG59KVxyXG5cclxuLypcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgdGhlIGNvbnN0cnVjdGlvbiBvZiBJbmRpY2F0b3JzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcbnZhciBJbmRpY2F0b3IgPSBmdW5jdGlvbihTY2VuZSwgb3B0aW9ucykge1xyXG4gIHZhciBJbmRpY2F0b3IgPSB0aGlzLFxyXG4gICAgX2VsZW1Cb3VuZHMgPSBUUEwuYm91bmRzKCksXHJcbiAgICBfZWxlbVN0YXJ0ID0gVFBMLnN0YXJ0KG9wdGlvbnMuY29sb3JTdGFydCksXHJcbiAgICBfZWxlbUVuZCA9IFRQTC5lbmQob3B0aW9ucy5jb2xvckVuZCksXHJcbiAgICBfYm91bmRzQ29udGFpbmVyID0gb3B0aW9ucy5wYXJlbnQgJiYgX3V0aWwuZ2V0LmVsZW1lbnRzKG9wdGlvbnMucGFyZW50KVswXSxcclxuICAgIF92ZXJ0aWNhbCxcclxuICAgIF9jdHJsXHJcblxyXG4gIHZhciBsb2cgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChTY2VuZS5fbG9nKSB7XHJcbiAgICAgIC8vIG5vdCBhdmFpbGFibGUsIHdoZW4gbWFpbiBzb3VyY2UgbWluaWZpZWRcclxuICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMSwgMCwgJygnICsgTkFNRVNQQUNFICsgJyknLCAnLT4nKVxyXG4gICAgICBTY2VuZS5fbG9nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wdGlvbnMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCBfYXV0b2luZGV4XHJcblxyXG4gIC8vIHByZXBhcmUgYm91bmRzIGVsZW1lbnRzXHJcbiAgX2VsZW1TdGFydC5maXJzdENoaWxkLnRleHRDb250ZW50ICs9ICcgJyArIG9wdGlvbnMubmFtZVxyXG4gIF9lbGVtRW5kLnRleHRDb250ZW50ICs9ICcgJyArIG9wdGlvbnMubmFtZVxyXG4gIF9lbGVtQm91bmRzLmFwcGVuZENoaWxkKF9lbGVtU3RhcnQpXHJcbiAgX2VsZW1Cb3VuZHMuYXBwZW5kQ2hpbGQoX2VsZW1FbmQpXHJcblxyXG4gIC8vIHNldCBwdWJsaWMgdmFyaWFibGVzXHJcbiAgSW5kaWNhdG9yLm9wdGlvbnMgPSBvcHRpb25zXHJcbiAgSW5kaWNhdG9yLmJvdW5kcyA9IF9lbGVtQm91bmRzXHJcbiAgLy8gd2lsbCBiZSBzZXQgbGF0ZXJcclxuICBJbmRpY2F0b3IudHJpZ2dlckdyb3VwID0gdW5kZWZpbmVkXHJcblxyXG4gIC8vIGFkZCBpbmRpY2F0b3JzIHRvIERPTVxyXG4gIHRoaXMuYWRkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfY3RybCA9IFNjZW5lLmNvbnRyb2xsZXIoKVxyXG4gICAgX3ZlcnRpY2FsID0gX2N0cmwuaW5mbygndmVydGljYWwnKVxyXG5cclxuICAgIHZhciBpc0RvY3VtZW50ID0gX2N0cmwuaW5mbygnaXNEb2N1bWVudCcpXHJcblxyXG4gICAgaWYgKCFfYm91bmRzQ29udGFpbmVyKSB7XHJcbiAgICAgIC8vIG5vIHBhcmVudCBzdXBwbGllZCBvciBkb2VzbnQgZXhpc3RcclxuICAgICAgX2JvdW5kc0NvbnRhaW5lciA9IGlzRG9jdW1lbnQgPyBkb2N1bWVudC5ib2R5IDogX2N0cmwuaW5mbygnY29udGFpbmVyJykgLy8gY2hlY2sgaWYgd2luZG93L2RvY3VtZW50ICh0aGVuIHVzZSBib2R5KVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc0RvY3VtZW50ICYmIF91dGlsLmNzcyhfYm91bmRzQ29udGFpbmVyLCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcclxuICAgICAgLy8gcG9zaXRpb24gbW9kZSBuZWVkZWQgZm9yIGNvcnJlY3QgcG9zaXRpb25pbmcgb2YgaW5kaWNhdG9yc1xyXG4gICAgICBfdXRpbC5jc3MoX2JvdW5kc0NvbnRhaW5lciwge1xyXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZCBsaXN0ZW5lcnMgZm9yIHVwZGF0ZXNcclxuICAgIFNjZW5lLm9uKCdjaGFuZ2UucGx1Z2luX2FkZEluZGljYXRvcnMnLCBoYW5kbGVUcmlnZ2VyUGFyYW1zQ2hhbmdlKVxyXG4gICAgU2NlbmUub24oJ3NoaWZ0LnBsdWdpbl9hZGRJbmRpY2F0b3JzJywgaGFuZGxlQm91bmRzUGFyYW1zQ2hhbmdlKVxyXG5cclxuICAgIC8vIHVwZGF0ZXMgdHJpZ2dlciAmIGJvdW5kcyAod2lsbCBhZGQgZWxlbWVudHMgaWYgbmVlZGVkKVxyXG4gICAgdXBkYXRlVHJpZ2dlckdyb3VwKClcclxuICAgIHVwZGF0ZUJvdW5kcygpXHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgLy8gZG8gYWZ0ZXIgYWxsIGV4ZWN1dGlvbiBpcyBmaW5pc2hlZCBvdGhlcndpc2Ugc29tZXRpbWVzIHNpemUgY2FsY3VsYXRpb25zIGFyZSBvZmZcclxuICAgICAgX2N0cmwuX2luZGljYXRvcnMudXBkYXRlQm91bmRzUG9zaXRpb25zKEluZGljYXRvcilcclxuICAgIH0sIDApXHJcblxyXG4gICAgbG9nKDMsICdhZGRlZCBpbmRpY2F0b3JzJylcclxuICB9XHJcblxyXG4gIC8vIHJlbW92ZSBpbmRpY2F0b3JzIGZyb20gRE9NXHJcbiAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChJbmRpY2F0b3IudHJpZ2dlckdyb3VwKSB7XHJcbiAgICAgIC8vIGlmIG5vdCBzZXQgdGhlcmUncyBub3RoaW5nIHRvIHJlbW92ZVxyXG4gICAgICBTY2VuZS5vZmYoJ2NoYW5nZS5wbHVnaW5fYWRkSW5kaWNhdG9ycycsIGhhbmRsZVRyaWdnZXJQYXJhbXNDaGFuZ2UpXHJcbiAgICAgIFNjZW5lLm9mZignc2hpZnQucGx1Z2luX2FkZEluZGljYXRvcnMnLCBoYW5kbGVCb3VuZHNQYXJhbXNDaGFuZ2UpXHJcblxyXG4gICAgICBpZiAoSW5kaWNhdG9yLnRyaWdnZXJHcm91cC5tZW1iZXJzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAvLyBqdXN0IHJlbW92ZSBmcm9tIG1lbWJlcmxpc3Qgb2Ygb2xkIGdyb3VwXHJcbiAgICAgICAgdmFyIGdyb3VwID0gSW5kaWNhdG9yLnRyaWdnZXJHcm91cFxyXG4gICAgICAgIGdyb3VwLm1lbWJlcnMuc3BsaWNlKGdyb3VwLm1lbWJlcnMuaW5kZXhPZihJbmRpY2F0b3IpLCAxKVxyXG4gICAgICAgIF9jdHJsLl9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cExhYmVsKGdyb3VwKVxyXG4gICAgICAgIF9jdHJsLl9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cFBvc2l0aW9ucyhncm91cClcclxuICAgICAgICBJbmRpY2F0b3IudHJpZ2dlckdyb3VwID0gdW5kZWZpbmVkXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gcmVtb3ZlIGNvbXBsZXRlIGdyb3VwXHJcbiAgICAgICAgcmVtb3ZlVHJpZ2dlckdyb3VwKClcclxuICAgICAgfVxyXG4gICAgICByZW1vdmVCb3VuZHMoKVxyXG5cclxuICAgICAgbG9nKDMsICdyZW1vdmVkIGluZGljYXRvcnMnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogaW50ZXJuYWwgRXZlbnQgSGFuZGxlcnNcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICovXHJcblxyXG4gIC8vIGV2ZW50IGhhbmRsZXIgZm9yIHdoZW4gYm91bmRzIHBhcmFtcyBjaGFuZ2VcclxuICB2YXIgaGFuZGxlQm91bmRzUGFyYW1zQ2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB1cGRhdGVCb3VuZHMoKVxyXG4gIH1cclxuXHJcbiAgLy8gZXZlbnQgaGFuZGxlciBmb3Igd2hlbiB0cmlnZ2VyIHBhcmFtcyBjaGFuZ2VcclxuICB2YXIgaGFuZGxlVHJpZ2dlclBhcmFtc0NoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIGlmIChlLndoYXQgPT09ICd0cmlnZ2VySG9vaycpIHtcclxuICAgICAgdXBkYXRlVHJpZ2dlckdyb3VwKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIEJvdW5kcyAoc3RhcnQgLyBzdG9wKSBtYW5hZ2VtZW50XHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqL1xyXG5cclxuICAvLyBhZGRzIGFuIG5ldyBib3VuZHMgZWxlbWVudHMgdG8gdGhlIGFycmF5IGFuZCB0byB0aGUgRE9NXHJcbiAgdmFyIGFkZEJvdW5kcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHYgPSBfY3RybC5pbmZvKCd2ZXJ0aWNhbCcpXHJcbiAgICAvLyBhcHBseSBzdHVmZiB3ZSBkaWRuJ3Qga25vdyBiZWZvcmUuLi5cclxuICAgIF91dGlsLmNzcyhfZWxlbVN0YXJ0LmZpcnN0Q2hpbGQsIHtcclxuICAgICAgJ2JvcmRlci1ib3R0b20td2lkdGgnOiB2ID8gMSA6IDAsXHJcbiAgICAgICdib3JkZXItcmlnaHQtd2lkdGgnOiB2ID8gMCA6IDEsXHJcbiAgICAgIGJvdHRvbTogdiA/IC0xIDogb3B0aW9ucy5pbmRlbnQsXHJcbiAgICAgIHJpZ2h0OiB2ID8gb3B0aW9ucy5pbmRlbnQgOiAtMSxcclxuICAgICAgcGFkZGluZzogdiA/ICcwIDhweCcgOiAnMnB4IDRweCcsXHJcbiAgICB9KVxyXG4gICAgX3V0aWwuY3NzKF9lbGVtRW5kLCB7XHJcbiAgICAgICdib3JkZXItdG9wLXdpZHRoJzogdiA/IDEgOiAwLFxyXG4gICAgICAnYm9yZGVyLWxlZnQtd2lkdGgnOiB2ID8gMCA6IDEsXHJcbiAgICAgIHRvcDogdiA/ICcxMDAlJyA6ICcnLFxyXG4gICAgICByaWdodDogdiA/IG9wdGlvbnMuaW5kZW50IDogJycsXHJcbiAgICAgIGJvdHRvbTogdiA/ICcnIDogb3B0aW9ucy5pbmRlbnQsXHJcbiAgICAgIGxlZnQ6IHYgPyAnJyA6ICcxMDAlJyxcclxuICAgICAgcGFkZGluZzogdiA/ICcwIDhweCcgOiAnMnB4IDRweCcsXHJcbiAgICB9KVxyXG4gICAgLy8gYXBwZW5kXHJcbiAgICBfYm91bmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKF9lbGVtQm91bmRzKVxyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIGJvdW5kcyBmcm9tIGxpc3QgYW5kIERPTVxyXG4gIHZhciByZW1vdmVCb3VuZHMgPSBmdW5jdGlvbigpIHtcclxuICAgIF9lbGVtQm91bmRzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX2VsZW1Cb3VuZHMpXHJcbiAgfVxyXG5cclxuICAvLyB1cGRhdGUgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIG9mIHRoZSBzY2VuZVxyXG4gIHZhciB1cGRhdGVCb3VuZHMgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChfZWxlbUJvdW5kcy5wYXJlbnROb2RlICE9PSBfYm91bmRzQ29udGFpbmVyKSB7XHJcbiAgICAgIGFkZEJvdW5kcygpIC8vIEFkZCBCb3VuZHMgZWxlbWVudHMgKHN0YXJ0L2VuZClcclxuICAgIH1cclxuICAgIHZhciBjc3MgPSB7fVxyXG4gICAgY3NzW192ZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnXSA9IFNjZW5lLnRyaWdnZXJQb3NpdGlvbigpXHJcbiAgICBjc3NbX3ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnXSA9IFNjZW5lLmR1cmF0aW9uKClcclxuICAgIF91dGlsLmNzcyhfZWxlbUJvdW5kcywgY3NzKVxyXG4gICAgX3V0aWwuY3NzKF9lbGVtRW5kLCB7XHJcbiAgICAgIGRpc3BsYXk6IFNjZW5lLmR1cmF0aW9uKCkgPiAwID8gJycgOiAnbm9uZScsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogdHJpZ2dlciBhbmQgdHJpZ2dlciBncm91cCBtYW5hZ2VtZW50XHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqL1xyXG5cclxuICAvLyBhZGRzIGFuIG5ldyB0cmlnZ2VyIGdyb3VwIHRvIHRoZSBhcnJheSBhbmQgdG8gdGhlIERPTVxyXG4gIHZhciBhZGRUcmlnZ2VyR3JvdXAgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0cmlnZ2VyRWxlbSA9IFRQTC50cmlnZ2VyKG9wdGlvbnMuY29sb3JUcmlnZ2VyKSAvLyBuZXcgdHJpZ2dlciBlbGVtZW50XHJcbiAgICB2YXIgY3NzID0ge31cclxuICAgIGNzc1tfdmVydGljYWwgPyAncmlnaHQnIDogJ2JvdHRvbSddID0gMFxyXG4gICAgY3NzW192ZXJ0aWNhbCA/ICdib3JkZXItdG9wLXdpZHRoJyA6ICdib3JkZXItbGVmdC13aWR0aCddID0gMVxyXG4gICAgX3V0aWwuY3NzKHRyaWdnZXJFbGVtLmZpcnN0Q2hpbGQsIGNzcylcclxuICAgIF91dGlsLmNzcyh0cmlnZ2VyRWxlbS5maXJzdENoaWxkLmZpcnN0Q2hpbGQsIHtcclxuICAgICAgcGFkZGluZzogX3ZlcnRpY2FsID8gJzAgOHB4IDNweCA4cHgnIDogJzNweCA0cHgnLFxyXG4gICAgfSlcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodHJpZ2dlckVsZW0pIC8vIGRpcmVjdGx5IGFkZCB0byBib2R5XHJcbiAgICB2YXIgbmV3R3JvdXAgPSB7XHJcbiAgICAgIHRyaWdnZXJIb29rOiBTY2VuZS50cmlnZ2VySG9vaygpLFxyXG4gICAgICBlbGVtZW50OiB0cmlnZ2VyRWxlbSxcclxuICAgICAgbWVtYmVyczogW0luZGljYXRvcl0sXHJcbiAgICB9XHJcbiAgICBfY3RybC5faW5kaWNhdG9ycy5ncm91cHMucHVzaChuZXdHcm91cClcclxuICAgIEluZGljYXRvci50cmlnZ2VyR3JvdXAgPSBuZXdHcm91cFxyXG4gICAgLy8gdXBkYXRlIHJpZ2h0IGF3YXlcclxuICAgIF9jdHJsLl9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cExhYmVsKG5ld0dyb3VwKVxyXG4gICAgX2N0cmwuX2luZGljYXRvcnMudXBkYXRlVHJpZ2dlckdyb3VwUG9zaXRpb25zKG5ld0dyb3VwKVxyXG4gIH1cclxuXHJcbiAgdmFyIHJlbW92ZVRyaWdnZXJHcm91cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX2N0cmwuX2luZGljYXRvcnMuZ3JvdXBzLnNwbGljZShfY3RybC5faW5kaWNhdG9ycy5ncm91cHMuaW5kZXhPZihJbmRpY2F0b3IudHJpZ2dlckdyb3VwKSwgMSlcclxuICAgIEluZGljYXRvci50cmlnZ2VyR3JvdXAuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEluZGljYXRvci50cmlnZ2VyR3JvdXAuZWxlbWVudClcclxuICAgIEluZGljYXRvci50cmlnZ2VyR3JvdXAgPSB1bmRlZmluZWRcclxuICB9XHJcblxyXG4gIC8vIHVwZGF0ZXMgdGhlIHRyaWdnZXIgZ3JvdXAgLT4gZWl0aGVyIGpvaW4gZXhpc3Rpbmcgb3IgYWRkIG5ldyBvbmVcclxuICAvKlxyXG4gICAqIExvZ2ljOlxyXG4gICAqIDEgaWYgYSB0cmlnZ2VyIGdyb3VwIGV4aXN0LCBjaGVjayBpZiBpdCdzIGluIHN5bmMgd2l0aCBTY2VuZSBzZXR0aW5ncyDigJMgaWYgc28sIG5vdGhpbmcgZWxzZSBuZWVkcyB0byBoYXBwZW5cclxuICAgKiAyIHRyeSB0byBmaW5kIGFuIGV4aXN0aW5nIG9uZSB0aGF0IG1hdGNoZXMgU2NlbmUgcGFyYW1ldGVyc1xyXG4gICAqIFx0IDIuMSBJZiBhIG1hdGNoIGlzIGZvdW5kIGNoZWNrIGlmIGFscmVhZHkgYXNzaWduZWQgdG8gYW4gZXhpc3RpbmcgZ3JvdXBcclxuICAgKlx0XHRcdCBJZiBzbzpcclxuICAgKiAgICAgICBBOiBpdCB3YXMgdGhlIGxhc3QgbWVtYmVyIG9mIGV4aXN0aW5nIGdyb3VwIC0+IGtpbGwgd2hvbGUgZ3JvdXBcclxuICAgKiAgICAgICBCOiB0aGUgZXhpc3RpbmcgZ3JvdXAgaGFzIG90aGVyIG1lbWJlcnMgLT4ganVzdCByZW1vdmUgZnJvbSBtZW1iZXIgbGlzdFxyXG4gICAqXHQgMi4yIEFzc2lnbiB0byBtYXRjaGluZyBncm91cFxyXG4gICAqIDMgaWYgbm8gbmV3IG1hdGNoIGNvdWxkIGJlIGZvdW5kLCBjaGVjayBpZiBhc3NpZ25lZCB0byBleGlzdGluZyBncm91cFxyXG4gICAqICAgQTogeWVzLCBhbmQgaXQncyB0aGUgb25seSBtZW1iZXIgLT4ganVzdCB1cGRhdGUgcGFyYW1ldGVycyBhbmQgcG9zaXRpb25zIGFuZCBrZWVwIHVzaW5nIHRoaXMgZ3JvdXBcclxuICAgKiAgIEI6IHllcyBidXQgdGhlcmUgYXJlIG90aGVyIG1lbWJlcnMgLT4gcmVtb3ZlIGZyb20gbWVtYmVyIGxpc3QgYW5kIGNyZWF0ZSBhIG5ldyBvbmVcclxuICAgKiAgIEM6IG5vLCBzbyBjcmVhdGUgYSBuZXcgb25lXHJcbiAgICovXHJcbiAgdmFyIHVwZGF0ZVRyaWdnZXJHcm91cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRyaWdnZXJIb29rID0gU2NlbmUudHJpZ2dlckhvb2soKSxcclxuICAgICAgY2xvc2VFbm91Z2ggPSAwLjAwMDFcclxuXHJcbiAgICAvLyBIYXZlIGEgZ3JvdXAsIGNoZWNrIGlmIGl0IHN0aWxsIG1hdGNoZXNcclxuICAgIGlmIChJbmRpY2F0b3IudHJpZ2dlckdyb3VwKSB7XHJcbiAgICAgIGlmIChNYXRoLmFicyhJbmRpY2F0b3IudHJpZ2dlckdyb3VwLnRyaWdnZXJIb29rIC0gdHJpZ2dlckhvb2spIDwgY2xvc2VFbm91Z2gpIHtcclxuICAgICAgICAvLyBfdXRpbC5sb2coMCwgXCJ0cmlnZ2VyXCIsIG9wdGlvbnMubmFtZSwgXCItPlwiLCBcIm5vIG5lZWQgdG8gY2hhbmdlLCBzdGlsbCBpbiBzeW5jXCIpO1xyXG4gICAgICAgIHJldHVybiAvLyBhbGwgZ29vZFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBEb24ndCBoYXZlIGEgZ3JvdXAsIGNoZWNrIGlmIGEgbWF0Y2hpbmcgb25lIGV4aXN0c1xyXG4gICAgLy8gX3V0aWwubG9nKDAsIFwidHJpZ2dlclwiLCBvcHRpb25zLm5hbWUsIFwiLT5cIiwgXCJvdXQgb2Ygc3luYyFcIik7XHJcbiAgICB2YXIgZ3JvdXBzID0gX2N0cmwuX2luZGljYXRvcnMuZ3JvdXBzLFxyXG4gICAgICBncm91cCxcclxuICAgICAgaSA9IGdyb3Vwcy5sZW5ndGhcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgZ3JvdXAgPSBncm91cHNbaV1cclxuICAgICAgaWYgKE1hdGguYWJzKGdyb3VwLnRyaWdnZXJIb29rIC0gdHJpZ2dlckhvb2spIDwgY2xvc2VFbm91Z2gpIHtcclxuICAgICAgICAvLyBmb3VuZCBhIG1hdGNoIVxyXG4gICAgICAgIC8vIF91dGlsLmxvZygwLCBcInRyaWdnZXJcIiwgb3B0aW9ucy5uYW1lLCBcIi0+XCIsIFwiZm91bmQgbWF0Y2hcIik7XHJcbiAgICAgICAgaWYgKEluZGljYXRvci50cmlnZ2VyR3JvdXApIHtcclxuICAgICAgICAgIC8vIGRvIEkgaGF2ZSBhbiBvbGQgZ3JvdXAgdGhhdCBpcyBvdXQgb2Ygc3luYz9cclxuICAgICAgICAgIGlmIChJbmRpY2F0b3IudHJpZ2dlckdyb3VwLm1lbWJlcnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIC8vIGlzIGl0IHRoZSBvbmx5IHJlbWFpbmluZyBncm91cD9cclxuICAgICAgICAgICAgLy8gX3V0aWwubG9nKDAsIFwidHJpZ2dlclwiLCBvcHRpb25zLm5hbWUsIFwiLT5cIiwgXCJraWxsXCIpO1xyXG4gICAgICAgICAgICAvLyB3YXMgdGhlIGxhc3QgbWVtYmVyLCByZW1vdmUgdGhlIHdob2xlIGdyb3VwXHJcbiAgICAgICAgICAgIHJlbW92ZVRyaWdnZXJHcm91cCgpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBJbmRpY2F0b3IudHJpZ2dlckdyb3VwLm1lbWJlcnMuc3BsaWNlKEluZGljYXRvci50cmlnZ2VyR3JvdXAubWVtYmVycy5pbmRleE9mKEluZGljYXRvciksIDEpIC8vIGp1c3QgcmVtb3ZlIGZyb20gbWVtYmVybGlzdCBvZiBvbGQgZ3JvdXBcclxuICAgICAgICAgICAgX2N0cmwuX2luZGljYXRvcnMudXBkYXRlVHJpZ2dlckdyb3VwTGFiZWwoSW5kaWNhdG9yLnRyaWdnZXJHcm91cClcclxuICAgICAgICAgICAgX2N0cmwuX2luZGljYXRvcnMudXBkYXRlVHJpZ2dlckdyb3VwUG9zaXRpb25zKEluZGljYXRvci50cmlnZ2VyR3JvdXApXHJcbiAgICAgICAgICAgIC8vIF91dGlsLmxvZygwLCBcInRyaWdnZXJcIiwgb3B0aW9ucy5uYW1lLCBcIi0+XCIsIFwicmVtb3ZpbmcgZnJvbSBwcmV2aW91cyBtZW1iZXIgbGlzdFwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gam9pbiBuZXcgZ3JvdXBcclxuICAgICAgICBncm91cC5tZW1iZXJzLnB1c2goSW5kaWNhdG9yKVxyXG4gICAgICAgIEluZGljYXRvci50cmlnZ2VyR3JvdXAgPSBncm91cFxyXG4gICAgICAgIF9jdHJsLl9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cExhYmVsKGdyb3VwKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYXQgdGhpcyBwb2ludCBJIGFtIG9idmlvdXNseSBvdXQgb2Ygc3luYyBhbmQgZG9uJ3QgbWF0Y2ggYW55IG90aGVyIGdyb3VwXHJcbiAgICBpZiAoSW5kaWNhdG9yLnRyaWdnZXJHcm91cCkge1xyXG4gICAgICBpZiAoSW5kaWNhdG9yLnRyaWdnZXJHcm91cC5tZW1iZXJzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIC8vIF91dGlsLmxvZygwLCBcInRyaWdnZXJcIiwgb3B0aW9ucy5uYW1lLCBcIi0+XCIsIFwidXBkYXRpbmcgZXhpc3RpbmdcIik7XHJcbiAgICAgICAgLy8gb3V0IG9mIHN5bmMgYnV0IGknbSB0aGUgb25seSBtZW1iZXIgPT4ganVzdCBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgIEluZGljYXRvci50cmlnZ2VyR3JvdXAudHJpZ2dlckhvb2sgPSB0cmlnZ2VySG9va1xyXG4gICAgICAgIF9jdHJsLl9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cFBvc2l0aW9ucyhJbmRpY2F0b3IudHJpZ2dlckdyb3VwKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIF91dGlsLmxvZygwLCBcInRyaWdnZXJcIiwgb3B0aW9ucy5uYW1lLCBcIi0+XCIsIFwicmVtb3ZpbmcgZnJvbSBwcmV2aW91cyBtZW1iZXIgbGlzdFwiKTtcclxuICAgICAgICBJbmRpY2F0b3IudHJpZ2dlckdyb3VwLm1lbWJlcnMuc3BsaWNlKEluZGljYXRvci50cmlnZ2VyR3JvdXAubWVtYmVycy5pbmRleE9mKEluZGljYXRvciksIDEpIC8vIGp1c3QgcmVtb3ZlIGZyb20gbWVtYmVybGlzdCBvZiBvbGQgZ3JvdXBcclxuICAgICAgICBfY3RybC5faW5kaWNhdG9ycy51cGRhdGVUcmlnZ2VyR3JvdXBMYWJlbChJbmRpY2F0b3IudHJpZ2dlckdyb3VwKVxyXG4gICAgICAgIF9jdHJsLl9pbmRpY2F0b3JzLnVwZGF0ZVRyaWdnZXJHcm91cFBvc2l0aW9ucyhJbmRpY2F0b3IudHJpZ2dlckdyb3VwKVxyXG4gICAgICAgIEluZGljYXRvci50cmlnZ2VyR3JvdXAgPSB1bmRlZmluZWQgLy8gbmVlZCBhIGJyYW5kIG5ldyBncm91cC4uLlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBfdXRpbC5sb2coMCwgXCJ0cmlnZ2VyXCIsIG9wdGlvbnMubmFtZSwgXCItPlwiLCBcImFkZCBhIG5ldyBvbmVcIik7XHJcbiAgICAvLyBkaWQgbm90IGZpbmQgYW55IG1hdGNoLCBtYWtlIG5ldyB0cmlnZ2VyIGdyb3VwXHJcbiAgICBhZGRUcmlnZ2VyR3JvdXAoKVxyXG4gIH1cclxufVxyXG5cclxuLypcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBUZW1wbGF0ZXMgZm9yIHRoZSBpbmRpY2F0b3JzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcbnZhciBUUEwgPSB7XHJcbiAgc3RhcnQ6IGZ1bmN0aW9uKGNvbG9yKSB7XHJcbiAgICAvLyBpbm5lciBlbGVtZW50IChmb3IgYm90dG9tIG9mZnNldCAtMSwgd2hpbGUga2VlcGluZyB0b3AgcG9zaXRpb24gMClcclxuICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBpbm5lci50ZXh0Q29udGVudCA9ICdzdGFydCdcclxuICAgIF91dGlsLmNzcyhpbm5lciwge1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgJ2JvcmRlci13aWR0aCc6IDAsXHJcbiAgICAgICdib3JkZXItc3R5bGUnOiAnc29saWQnLFxyXG4gICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICdib3JkZXItY29sb3InOiBjb2xvcixcclxuICAgIH0pXHJcbiAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAvLyB3cmFwcGVyXHJcbiAgICBfdXRpbC5jc3MoZSwge1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgd2lkdGg6IDAsXHJcbiAgICAgIGhlaWdodDogMCxcclxuICAgIH0pXHJcbiAgICBlLmFwcGVuZENoaWxkKGlubmVyKVxyXG4gICAgcmV0dXJuIGVcclxuICB9LFxyXG4gIGVuZDogZnVuY3Rpb24oY29sb3IpIHtcclxuICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGUudGV4dENvbnRlbnQgPSAnZW5kJ1xyXG4gICAgX3V0aWwuY3NzKGUsIHtcclxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXHJcbiAgICAgICdib3JkZXItd2lkdGgnOiAwLFxyXG4gICAgICAnYm9yZGVyLXN0eWxlJzogJ3NvbGlkJyxcclxuICAgICAgY29sb3I6IGNvbG9yLFxyXG4gICAgICAnYm9yZGVyLWNvbG9yJzogY29sb3IsXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGVcclxuICB9LFxyXG4gIGJvdW5kczogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBfdXRpbC5jc3MoZSwge1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgJ3doaXRlLXNwYWNlJzogJ25vd3JhcCcsXHJcbiAgICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyxcclxuICAgICAgJ2ZvbnQtc2l6ZSc6IEZPTlRfU0laRSxcclxuICAgIH0pXHJcbiAgICBlLnN0eWxlLnpJbmRleCA9IFpJTkRFWFxyXG4gICAgcmV0dXJuIGVcclxuICB9LFxyXG4gIHRyaWdnZXI6IGZ1bmN0aW9uKGNvbG9yKSB7XHJcbiAgICAvLyBpbm5lciB0byBiZSBhYm92ZSBvciBiZWxvdyBsaW5lIGJ1dCBrZWVwIHBvc2l0aW9uXHJcbiAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgaW5uZXIudGV4dENvbnRlbnQgPSAndHJpZ2dlcidcclxuICAgIF91dGlsLmNzcyhpbm5lciwge1xyXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgIH0pXHJcbiAgICAvLyBpbm5lciB3cmFwcGVyIGZvciByaWdodDogMCBhbmQgbWFpbiBlbGVtZW50IGhhcyBubyBzaXplXHJcbiAgICB2YXIgdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBfdXRpbC5jc3Modywge1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgJ2JvcmRlci13aWR0aCc6IDAsXHJcbiAgICAgICdib3JkZXItc3R5bGUnOiAnc29saWQnLFxyXG4gICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICdib3JkZXItY29sb3InOiBjb2xvcixcclxuICAgIH0pXHJcbiAgICB3LmFwcGVuZENoaWxkKGlubmVyKVxyXG4gICAgLy8gd3JhcHBlclxyXG4gICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgX3V0aWwuY3NzKGUsIHtcclxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXHJcbiAgICAgICd3aGl0ZS1zcGFjZSc6ICdub3dyYXAnLFxyXG4gICAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXHJcbiAgICAgICdmb250LXNpemUnOiBGT05UX1NJWkUsXHJcbiAgICB9KVxyXG4gICAgZS5zdHlsZS56SW5kZXggPSBaSU5ERVhcclxuICAgIGUuYXBwZW5kQ2hpbGQodylcclxuICAgIHJldHVybiBlXHJcbiAgfSxcclxufVxyXG4iXX0=